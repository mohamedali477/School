{"version":3,"sources":["webpack:///src/app/post-login/student-guardian/guardian-list/guardian-list.component.ts","webpack:///src/app/post-login/student-guardian/guardian-list/guardian-list.component.html","webpack:///src/app/post-login/student-guardian/guardian-management/guardian-management.component.ts","webpack:///src/app/post-login/student-guardian/guardian-management/guardian-management.component.html","webpack:///src/app/post-login/student-guardian/my-profile/my-profile.component.ts","webpack:///src/app/post-login/student-guardian/my-profile/my-profile.component.html","webpack:///src/app/post-login/student-guardian/new-student-guardian-registration/guardian-info/guardian-info.component.ts","webpack:///src/app/post-login/student-guardian/new-student-guardian-registration/guardian-info/guardian-info.component.html","webpack:///src/app/post-login/student-guardian/new-student-guardian-registration/new-student-guardian-registration.component.ts","webpack:///src/app/post-login/student-guardian/new-student-guardian-registration/new-student-guardian-registration.component.html","webpack:///src/app/post-login/student-guardian/new-student-guardian-registration/student-info/student-info.component.ts","webpack:///src/app/post-login/student-guardian/new-student-guardian-registration/student-info/student-info.component.html","webpack:///src/app/post-login/student-guardian/services/guardian.service.ts","webpack:///src/app/post-login/student-guardian/services/student-guardian.service.ts","webpack:///src/app/post-login/student-guardian/services/student.service.ts","webpack:///src/app/post-login/student-guardian/student-academic-info/student-academic-info.component.ts","webpack:///src/app/post-login/student-guardian/student-academic-info/student-academic-info.component.html","webpack:///src/app/post-login/student-guardian/student-guardian-routing.module.ts","webpack:///src/app/post-login/student-guardian/student-guardian.module.ts","webpack:///src/app/post-login/student-guardian/student-list/student-list.component.ts","webpack:///src/app/post-login/student-guardian/student-list/student-list.component.html","webpack:///src/app/post-login/student-guardian/student-management/student-management.component.ts","webpack:///src/app/post-login/student-guardian/student-management/student-management.component.html"],"names":["GuardianListComponent","guardianService","changeDetector","sharedService","plService","unsubscribe$","viewButtonEvent","editButtonEvent","pageTitle","currentTime","Date","now","editPermissions","isLoading","environment","masterData","guardians","viewUser","searchParams","paging","pageIndex","pageSize","length","sortParams","fieldName","isAsc","getPageEntitlements","getList","SearchObject","SearchParameters","sorting","getGuardianList","pipe","subscribe","result","data","count","error","console","log","id","guardianId","idObj","focusId","emit","dialogRef","openConfirmDialog","afterClosed","confirmed","deleteGuardian","sort","active","direction","detectChanges","paginator","next","complete","sortClicked","pagingClicked","selector","templateUrl","styleUrls","GuardianManagementComponent","fb","studentGuardianService","showViewPage","showAddChangePage","showListPage","Id","searchConfig","isViewMode","type","label","inputType","name","icon","options","genders","religions","casts","relations","searchForm","group","_ListPage","value","searchCard","hide","event","backToListClick","deleteStudentGuardian","onSearchClick","MyProfileComponent","isStudent","studentRoleId","currentUserRoleId","isGuardian","guardianRoleId","JSON","parse","loggedInData","serializeMongoObjectId","GuardianInfoComponent","NewStudentguardianRegistrationComponent","onSaveSuccess","changeModeId","open","stayOnPage","isComingFromMyProfile","tabSelectedIndex","mainForm","initialFormValues","noOfActiveStudent","noOfActiveGuardian","title","subTitle","studentSubTitle","guardianSubTitle","addressSubTitle","userAccessPolicy","user","canSeeSensitiveInfo","checkSensitiveInfoPermissions","setTitleMessages","students","array","setFormCommonFields","populateFromDB","addStudent","addGuardian","addAddress","setActiveStudentGuardianCount","getStudentGuardian","forEach","element","get","setValue","_id","status","idx","pageLevelSave","push","basicInfo","credentialInfo","transportInfo","academicInfo","contactInfo","medicalInfo","governmentIds","occupationInfo","addControl","control","permanentDeleteStudent","removeAt","pageLevelDelete","permanentDeleteGuardian","guardiansArray","controls","studentsArray","gp","markAllAsTouched","preventDefault","stopPropagation","valid","studentGuardianRegistration","getRawValue","isSuccess","openSnackBar","message","resetFormControls","onSubmit","encapsulation","None","StudentInfoComponent","selectedStudentId","student","isViewRating","GuardianService","_http","_storage","_sharedService","apiPrefix","post","apiUrl","StudentGuardianService","studentParentdata","StudentService","StudentAcademicInfoComponent","fieldsConfig","validations","required","setFormInitialValueForChangeMode","routes","path","component","outlet","StudentGuardianRoutingModule","forChild","imports","exports","StudentGuardianModule","declarations","providers","StudentListComponent","studentService","getStudentList","stuId","StudentManagementComponent"],"mappings":"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","file":"student-guardian-student-guardian-module-es5.js","sourcesContent":["import { Component, OnInit, Input, OnDestroy, Output, EventEmitter, ChangeDetectorRef, AfterViewChecked } from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { MasterData } from '@env/environment';\nimport { SharedService } from '@app/shared/services/shared.service';\nimport { GuardianService } from '../services/guardian.service';\nimport { PageEvent } from '@angular/material/paginator';\nimport { environment } from '@env/environment';\nimport { PostLoginService } from '@app/post-login/post-login.service';\nimport { Sort } from '@angular/material/sort';\n\n@Component({\n  selector: 'app-guardian-list',\n  templateUrl: './guardian-list.component.html',\n  styleUrls: ['./guardian-list.component.css']\n})\nexport class GuardianListComponent implements OnInit, OnDestroy {\n \n  private unsubscribe$ = new Subject();\n  \n  @Output() viewButtonEvent = new EventEmitter()\n  @Output() editButtonEvent = new EventEmitter()\n  \n  @Input() pageTitle: string =\"\"\n  @Input() roleId: number\n\n  currentTime = Date.now()\n\n  public editPermissions = false\n  isLoading = false;\n\n  environment = environment\n  masterData = MasterData;\n  guardians = [];\n\n  viewUserId : any\n  viewUser = false\n\n  searchParams = null\n  paging = {\n    pageIndex: this.masterData.paging.pageIndex,\n    pageSize: this.masterData.paging.pageSize,\n    length: 1\n  }\n  sortParams = {\n    fieldName : \"basicInfo.firstName\",\n    isAsc : true\n  }\n\n  constructor(\n    private guardianService: GuardianService,\n    private changeDetector: ChangeDetectorRef,\n    public sharedService: SharedService,\n    public plService: PostLoginService\n  ) {\n    this.editPermissions = this.plService.getPageEntitlements(6,1) === 2\n  }\n\n  ngOnInit() {\n    this.getList()\n  }\n\n  getList()\n  {\n    this.isLoading = true;\n\n    let SearchObject = {\n      SearchParameters : this.searchParams,\n      paging : {\n        \"pageIndex\": this.paging.pageIndex,\n        \"pageSize\": this.paging.pageSize\n      },\n      sorting:{\n        \"fieldName\": this.sortParams.fieldName,\n        \"isAsc\": this.sortParams.isAsc\n      }\n    }\n\n    this.guardianService\n    .getGuardianList(SearchObject)\n    .pipe(takeUntil(this.unsubscribe$))\n    .subscribe(\n      (result: any) => {\n        this.isLoading =false\n        this.guardians = result.data   \n        this.paging.length = result.count    \n      }, \n      (error) => {\n        this.isLoading =false\n        console.log(error)\n      }\n      );    \n  }\n  \n  viewClicked(id, guardianId){\n    let idObj = {\n      id : id,\n      focusId : guardianId\n    }\n    this.viewButtonEvent.emit(idObj)\n  }\n\n  editClicked(id, guardianId){\n    let idObj = {\n      id : id,\n      focusId : guardianId\n    }\n    this.editButtonEvent.emit(idObj)\n  }\n\n  deleteClicked(guardianId){\n    let dialogRef = this.sharedService.openConfirmDialog(\"You want to delete this Guardian?\")\n\n    dialogRef.afterClosed()\n    .pipe(takeUntil(this.unsubscribe$))\n    .subscribe(\n      (confirmed: boolean) => {\n      if (confirmed) {        \n        \n        this.isLoading = true\n\n        this.guardianService.deleteGuardian(guardianId)\n        .pipe(takeUntil(this.unsubscribe$))\n        .subscribe(\n          (result) => {\n            this.getList()\n            this.isLoading = false\n          },\n          (error) => {\n            this.isLoading = false\n          }\n        )\n      }\n    },\n    (error) => {\n      this.isLoading = false\n    }\n    );\n  }\n\n  CardCrossEvent_ViewUser(){\n    this.viewUser = false\n  }\n\n  sortClicked(sort: Sort){\n    this.paging.pageIndex = 0\n    this.sortParams.fieldName = sort.active\n    this.sortParams.isAsc = sort.direction === 'asc'\n    this.getList()\n    this.changeDetector.detectChanges();\n  }\n\n  pagingClicked(paginator: PageEvent){  \n    this.paging.pageIndex = paginator.pageIndex\n    this.paging.pageSize = paginator.pageSize\n    this.getList();\n    this.changeDetector.detectChanges();\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next(true);\n    this.unsubscribe$.complete();\n  }\n}\n","<card [loading]=\"isLoading\" [title]=\"'Guardian List'\" [subTitle]=\"'Manage your guardian for students'\"\n  (refresh)=\"getList()\">\n  <large-screen>\n    <table class=\"table\" matSort (matSortChange)=\"sortClicked($event)\">\n      <thead class=\"thead\">\n        <tr>\n          <th class=\"sr\" colspan=\"2\">#</th>\n          <th matRipple mat-sort-header=\"basicInfo.firstName\">\n            First Name\n            <mat-icon>face</mat-icon>\n          </th>\n          <th matRipple mat-sort-header=\"basicInfo.lastName\">\n            Last Name\n            <mat-icon>face</mat-icon>\n          </th>\n          <th matRipple mat-sort-header=\"contactInfo.contactNo\">\n            Mob No<mat-icon>phone_iphone</mat-icon>\n          </th>\n          <th matRipple mat-sort-header=\"contactInfo.email\">\n            Email Id<mat-icon>email</mat-icon>\n          </th>\n          <th matRipple mat-sort-header=\"basicInfo.dob\">\n            DOB<mat-icon>today</mat-icon>\n          </th>\n          <th matRipple mat-sort-header=\"basicInfo.genderId\">Gender</th>\n          <th class=\"action\">\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class=\"tr\" *ngFor=\"let guardian of guardians; let idx = index\">\n          <td class=\"sr-col\">{{ (paging.pageIndex *  paging.pageSize) + idx+1}}</td>\n          <td>\n              <user-small-pic [userId]=\"guardian.guardianId\"></user-small-pic>\n          </td>\n          <td>{{guardian.basicInfo.firstName}}</td>\n          <td>{{guardian.basicInfo.lastName}}</td>\n          <td>{{guardian.contactInfo.contactNo}}</td>\n          <td>{{guardian.contactInfo.email}}</td>\n          <td>{{guardian.basicInfo.dob | date}}</td>\n          <td>{{guardian.basicInfo.genderId | masterData : 'gender'}}</td>\n          <td class=\"rt\">\n            <button mat-icon-button appToolTip=\"'View Guardian'\" class=\"icon-view\" (click)=\"viewClicked(guardian._id, guardian.guardianId)\">\n              <mat-icon mat-icon-button>visibility</mat-icon>\n            </button>\n            <button *ngIf=\"editPermissions\" mat-icon-button appToolTip=\"'Edit Guardian'\" class=\"icon-edit\"\n              (click)=\"editClicked(guardian._id, guardian.guardianId)\">\n              <mat-icon>edit</mat-icon>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </large-screen>\n\n  <small-screen>\n    <ng-container *ngFor=\"let guardian of guardians; let idx = index; let odd = odd\">\n      <card [childCard]=\"true\" [header]=\"false\">\n        <row gap=\"2px\">\n          <div fxFlex=\"30%\">\n            <b># {{ (paging.pageIndex * paging.pageSize) + idx+1}}</b>\n          </div>\n          <div fxFlex class=\"rt\">\n            <button mat-icon-button appToolTip=\"'View Guardian'\" class=\"big-icon-view\"\n              (click)=\"viewClicked(guardian._id, guardian.guardianId)\">\n              <mat-icon mat-icon-button>visibility</mat-icon>\n            </button>\n            <button *ngIf=\"editPermissions\" mat-icon-button appToolTip=\"'Edit Guardian'\" class=\"big-icon-edit\"\n              (click)=\"editClicked(guardian._id, guardian.guardianId)\">\n              <mat-icon>edit</mat-icon>\n            </button>\n          </div>\n        </row>\n        <user-card [userId]=\"guardian.guardianId\" [firstName]=\"guardian.basicInfo.firstName\"\n          [lastName]=\"guardian.basicInfo.lastName\" [contactNo]=\"guardian.contactInfo.contactNo\"\n          [email]=\"guardian.contactInfo.email\" [dob]=\"guardian.basicInfo.dob\" [genderId]=\"guardian.basicInfo.genderId\">\n        </user-card>\n      </card>\n      <br>\n    </ng-container>\n  </small-screen>\n  <no-record-found *ngIf=\"guardians.length ==0\"></no-record-found>\n  <mat-paginator [length]=\"paging.length\" [showFirstLastButtons]=\"masterData.paging.showFirstLastButtons\"\n    [pageSize]=\"paging.pageSize\" [pageSizeOptions]=\"masterData.paging.pageSizeOptions\" (page)=\"pagingClicked($event)\">\n  </mat-paginator>\n\n</card>","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\nimport { GuardianListComponent } from '../guardian-list/guardian-list.component';\nimport { FieldConfig } from '@app/shared/component/dynamic-form/field.interface';\nimport { MasterData } from '@env/environment';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { takeUntil } from 'rxjs/operators';\nimport { SharedService } from '@app/shared/services/shared.service';\nimport { Subject } from 'rxjs';\nimport { StudentGuardianService } from '../services/student-guardian.service';\nimport { PostLoginService } from '@app/post-login/post-login.service';\nimport { CardBottomComponent } from '@app/shared/component/boxes/card-bottom/card-bottom.component';\n\n@Component({\n  selector: 'app-guardian-management',\n  templateUrl: './guardian-management.component.html',\n  styleUrls: ['./guardian-management.component.css']\n})\nexport class GuardianManagementComponent implements OnInit, OnDestroy {\n\n  private unsubscribe$ = new Subject();\n  \n  @ViewChild(GuardianListComponent) private _ListPage : GuardianListComponent\n  @ViewChild('searchCard') searchCard : CardBottomComponent\n  \n  showViewPage = false\n  showAddChangePage = false\n  showListPage = true\n\n  public editPermissions = false\n  isLoading = false\n  Id = null\n  focusId = null\n  masterData = MasterData\n\n  searchForm: FormGroup\n  searchConfig: FieldConfig[] = [\n    {\n      isViewMode: false,\n      type: \"input\",\n      label: \"First Name\",\n      inputType: \"text\",\n      name: \"firstName\",\n      icon: \"accessibility_new\"\n    },\n    {\n      isViewMode: false,\n      type: \"input\",\n      label: \"Last Name\",\n      inputType: \"text\",\n      name: \"lastName\",\n      icon: \"accessibility\"\n    },\n    {\n      isViewMode: false,\n      type: \"date\",\n      label: \"DOB\",\n      name: \"dob\"\n    },\n    {\n      isViewMode: false,\n      type: \"select\",\n      label: \"Gender\",\n      name: \"genderId\",      \n      options: this.masterData.genders\n    },\n    {\n      isViewMode: false,\n      type: \"select\",\n      label: \"Religion\",\n      name: \"religionId\",\n      options: this.masterData.religions\n    },\n    {\n      isViewMode: false,\n      type: \"select\",\n      label: \"Cast\",\n      name: \"castId\",\n      options: this.masterData.casts\n    },\n    {\n      isViewMode: false,\n      type: \"select\",\n      label: \"Relation\",\n      name: \"relationId\",\n      options: this.masterData.relations\n    }\n  ];\n\n\n  constructor(\n    private fb: FormBuilder,\n    private sharedService: SharedService,\n    private studentGuardianService: StudentGuardianService,\n    private plService: PostLoginService\n  ) {\n    this.searchForm = this.fb.group({})\n    this.editPermissions = this.plService.getPageEntitlements(6,1) == 2\n  }\n\n  ngOnInit() {\n  }\n\n  onSearchClick(){\n    this._ListPage.searchParams = this.searchForm.value\n    this._ListPage.paging.pageIndex=0\n    this._ListPage.getList()\n    this.searchCard.hide()\n  }\n\n  addNewClick(){\n    this.Id = null\n    this.showAddChangePage = true;\n    this.showViewPage = this.showListPage = false\n  }\n  backToListClick(){\n    this.showListPage = true;\n    this.showViewPage = this.showAddChangePage = false\n  }\n\n  onSaveSuccess(event) {\n    this.backToListClick()\n    if(this._ListPage){\n      this._ListPage.getList()\n    }\n  }\n\n  viewButtonEvent(event){  \n    this.Id = event.id;\n    this.focusId = event.focusId\n    this.showViewPage = true;\n    this.showListPage = this.showAddChangePage = false\n  }\n\n  editButtonEvent(event){\n    this.showAddChangePage = true;\n    this.Id = event.id;\n    this.focusId = event.focusId \n    this.showViewPage = this.showListPage = false\n  }\n\n  deleteClicked(id){\n    let dialogRef = this.sharedService.openConfirmDialog(\"You want to delete this 'Student Guardian hierarchy'?\")\n\n    dialogRef.afterClosed()\n    .pipe(takeUntil(this.unsubscribe$))\n    .subscribe(\n      (confirmed: boolean) => {\n      if (confirmed) {        \n        \n        this.isLoading = true\n\n        this.studentGuardianService.deleteStudentGuardian(id)\n        .pipe(takeUntil(this.unsubscribe$))\n        .subscribe(\n          (result) => {\n            this.backToListClick()\n            this._ListPage.getList()\n            this.isLoading = false\n          },\n          (error) => {\n            this.isLoading = false\n          }\n        )\n      }\n    },\n    (error) => {\n      this.isLoading = false\n    }\n    );\n  }\n  \n  ngOnDestroy() {\n    this.unsubscribe$.next(true);\n    this.unsubscribe$.complete();\n  }\n}\n","<responsive colGap=\"50px\">\n    <div fxFlex=\"30\">\n        <button type=\"button\" *ngIf=\"showListPage && editPermissions\" (click)=\"addNewClick()\" mat-raised-button\n            class=\"btn\" appToolTip=\"'Add new Student and Guardian'\" matTooltipShowDelay=\"100\" matTooltipHideDelay=\"100\">\n            <mat-icon>person_add</mat-icon> Add New Student and Guardian\n        </button>\n    </div>\n    <div fxFlex>\n        <card-bottom [form]=\"searchForm\" #searchCard [hidden]=\"!showListPage\" [title]=\"'Search Guardian'\">\n            <card [header]=\"false\">\n                <form [formGroup]=\"searchForm\" (ngSubmit)=\"onSearchClick()\">\n                    <dynamic-form [form]=\"searchForm\" [fields]=\"searchConfig\"></dynamic-form>\n                    <form-buttons [form]=\"searchForm\" [isSearchForm]=\"true\" (onReset)=\"onSearchClick()\"></form-buttons>\n                </form>\n            </card>\n        </card-bottom>\n    </div>\n</responsive>\n\n<row>\n    <div>\n        <button type=\"button\" *ngIf=\"showAddChangePage || showViewPage\" (click)=\"backToListClick()\" class=\"btn\"\n            mat-raised-button appToolTip=\"'Go back to Guardian List'\" matTooltipShowDelay=\"100\"\n            matTooltipHideDelay=\"100\">\n            <mat-icon>keyboard_return</mat-icon> Back to Guardian List\n        </button>\n    </div>\n    <div class=\"fill-space\"></div>\n    <div>\n        <button type=\"button\" *ngIf=\"showAddChangePage && Id\" appToolTip=\"'Delete Guardian'\" class=\"delete-button\"\n            mat-raised-button (click)=\"deleteClicked(Id)\">\n            <mat-icon>delete_forever</mat-icon> Delete this hierarchy\n        </button>\n    </div>\n</row>\n<br><br>\n\n<app-new-student-guardian-registration *ngIf=\"showAddChangePage || showViewPage\" [changeModeId]=\"Id\" [focusId]=\"focusId\"\n    [tabSelectedIndex]=\"1\" [isViewMode]=\"showViewPage\" (onSaveSuccess)=\"onSaveSuccess($event)\">\n</app-new-student-guardian-registration>\n<app-guardian-list [hidden]=\"!showListPage\" (viewButtonEvent)=\"viewButtonEvent($event)\"\n    (editButtonEvent)=\"editButtonEvent($event)\"></app-guardian-list>","import { Component, OnInit } from '@angular/core';\nimport { SharedService } from '@app/shared/services/shared.service';\nimport { MasterData } from '@env/environment';\n\n@Component({\n  selector: 'app-my-profile',\n  templateUrl: './my-profile.component.html',\n  styleUrls: ['./my-profile.component.css']\n})\nexport class MyProfileComponent implements OnInit {\n\n  public Id = null\n  public isViewMode = true\n\n  constructor(\n    private sharedService: SharedService\n  ) { }\n\n  ngOnInit() {\n    let isStudent = MasterData.studentRoleId['$oid'] === this.sharedService.currentUserRoleId()['$oid']\n    let isGuardian = MasterData.guardianRoleId['$oid'] === this.sharedService.currentUserRoleId()['$oid']\n\n    if(isGuardian || isStudent){\n      let data =  JSON.parse(this.sharedService.loggedInData())\n      this.Id = this.sharedService.serializeMongoObjectId(data[\"_id\"])\n      this.isViewMode = isGuardian ? false : true\n    }\n  }\n\n}\n","<app-new-student-guardian-registration [changeModeId]=\"Id\" [isComingFromMyProfile]=\"true\"\n    [isViewMode]=\"isViewMode\" ></app-new-student-guardian-registration>","import { Component, OnInit, Input } from '@angular/core';\nimport { MasterData } from '@env/environment';\n\n@Component({\n  selector: 'guardian-info',\n  templateUrl: './guardian-info.component.html',\n  styleUrls: ['./guardian-info.component.css']\n})\nexport class GuardianInfoComponent implements OnInit {\n\n  @Input() guardian\n  @Input() idxGuardian\n  @Input() initialFormValues\n  @Input() guardianSubTitle\n  @Input() focusId\n  @Input() isViewMode\n  @Input() changeModeId\n  @Input() canSeeSensitiveInfo\n  @Input() editPermissions\n  @Input() isComingFromMyProfile\n\n  public masterData = MasterData\n  \n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<card [childCard]=\"true\" [refreshButton]=\"false\"\n    [title]=\"'Guardian- '+guardian.controls['basicInfo'].controls['firstName']?.value + ' ' + guardian.controls['basicInfo'].controls['lastName']?.value\"\n    [subTitle]=\"guardianSubTitle\" [open]=\"guardian.controls['_id'].value['$oid'] === focusId\">\n    <ng-content></ng-content>\n    <responsive>\n        <form-profile-pic fxFlex [form]=\"guardian\" [isViewMode]=\"isViewMode\"></form-profile-pic>\n        <div fxFlex=\"2 2 auto\">\n            <app-ddl-relation [form]=\"guardian\" [isViewMode]=\"isViewMode\"\n                [value]=\"initialFormValues?.guardians.length > idxGuardian && initialFormValues?.guardians[idxGuardian].relationId\">\n            </app-ddl-relation>\n\n            <mat-accordion hideToggle=\"true\" hideToggle=\"true\" [multi]=\"masterData.expendMultiple\">\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"guardian.controls['basicInfo']\" [icon]=\"'account_box'\">\n                                {{guardian.controls['basicInfo'].controls['firstName']?.value }} Basic Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-user-basic-info [form]=\"guardian.controls['basicInfo']\" [isViewMode]=\"isViewMode\"\n                        [initialFormValues]=\"initialFormValues?.guardians.length > idxGuardian && initialFormValues?.guardians[idxGuardian].basicInfo\">\n                    </form-user-basic-info>\n                </mat-expansion-panel>\n                <mat-expansion-panel class=\"no-shadow\" *ngIf=\"canSeeSensitiveInfo\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"guardian.controls['credentialInfo']\" [icon]=\"'security'\">\n                                {{guardian.controls['basicInfo'].controls['firstName']?.value }} Credential\n                                Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-user-credentials [form]=\"guardian.controls['credentialInfo']\" [isViewMode]=\"isViewMode\"\n                        [initialFormValues]=\"initialFormValues?.guardians.length > idxGuardian && initialFormValues?.guardians[idxGuardian].credentialInfo\">\n                    </form-user-credentials>\n                </mat-expansion-panel>\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"guardian.controls['contactInfo']\" [icon]=\"'contact_phone'\">\n                                {{guardian.controls['basicInfo'].controls['firstName']?.value }} Contact Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-contact-info [Required]=\"true\" [form]=\"guardian.controls['contactInfo']\"\n                        [isViewMode]=\"isViewMode\"\n                        [initialFormValues]=\"initialFormValues?.guardians.length > idxGuardian && initialFormValues?.guardians[idxGuardian].contactInfo\">\n                    </form-contact-info>\n                </mat-expansion-panel>\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"guardian.controls['occupationInfo']\" [icon]=\"'work_outline'\">\n                                {{guardian.controls['basicInfo'].controls['firstName']?.value }} Occupation\n                                Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-occupation-info [form]=\"guardian.controls['occupationInfo']\" [isViewMode]=\"isViewMode\"\n                        [initialFormValues]=\"initialFormValues?.guardians.length > idxGuardian && initialFormValues?.guardians[idxGuardian].occupationInfo\">\n                    </form-occupation-info>\n                </mat-expansion-panel>\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"guardian.controls['governmentIds']\" [icon]=\"'local_activity'\">\n                                {{guardian.controls['basicInfo'].controls['firstName']?.value }} Government Ids\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-user-government-ids [form]=\"guardian.controls['governmentIds']\" [isViewMode]=\"isViewMode\"\n                        [initialFormValues]=\"initialFormValues?.guardians.length > idxGuardian && initialFormValues?.guardians[idxGuardian].governmentIds\">\n                    </form-user-government-ids>\n                </mat-expansion-panel>\n            </mat-accordion>\n        </div>\n    </responsive>\n</card>","import { Component, OnInit, ChangeDetectorRef, AfterViewChecked, Output, EventEmitter, Input, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { FormGroup, FormBuilder, FormArray, FormControl, AbstractControl } from '@angular/forms';\nimport { MasterData } from '@env/environment';\nimport { Subject } from 'rxjs';\nimport { SharedService } from '@app/shared/services/shared.service';\nimport { takeUntil } from 'rxjs/operators';\nimport { StudentGuardianService } from '../services/student-guardian.service';\nimport { PostLoginService } from '@app/post-login/post-login.service';\n\n@Component({\n  selector: 'app-new-student-guardian-registration',\n  templateUrl: './new-student-guardian-registration.component.html',\n  styleUrls: ['./new-student-guardian-registration.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class NewStudentguardianRegistrationComponent implements OnInit, AfterViewChecked, OnDestroy {\n  private unsubscribe$ = new Subject();\n\n  @Output() public onSaveSuccess = new EventEmitter();\n  @Input() changeModeId = null\n  @Input() focusId\n  @Input() isViewMode = false\n  @Input() public open = true\n  @Input() public stayOnPage = true\n  @Input() roleId: number\n  @Input() isComingFromMyProfile = false\n  @Input() tabSelectedIndex = 0\n\n  mainForm: FormGroup = new FormGroup({})\n  masterData = MasterData\n\n  isLoading = false\n  initialFormValues = null\n\n  public editPermissions\n  public canSeeSensitiveInfo\n  public userAccessPolicy\n\n  noOfActiveStudent = 0\n  noOfActiveGuardian = 0\n\n  title = \"Add Children and their Guardian Details.\"\n  subTitle = \"Please provide following details of student and his/her sibling and their guardians.\"\n\n  studentSubTitle = \"Please add following details of 'Children'.\"\n  guardianSubTitle = \"Please add following details of 'Guardian'.\"\n  addressSubTitle = \"Please add following details of 'Address'.\"\n\n  constructor(\n    public fb: FormBuilder,\n    private changeDetector: ChangeDetectorRef,\n    public sharedService: SharedService,\n    public studentGuardianService: StudentGuardianService,\n    private plService: PostLoginService\n  ) {}\n\n  checkSensitiveInfoPermissions(){\n    this.userAccessPolicy = this.plService.getPageEntitlements(4, 2)\n    this.editPermissions = this.userAccessPolicy === 2   \n\n    let user = JSON.parse(this.sharedService.loggedInData())\n    this.canSeeSensitiveInfo = this.userAccessPolicy === 2 || this.changeModeId === user[\"_id\"][\"$oid\"]\n  }\n\n  ngOnInit(): void {\n\n    console.log(this.changeModeId)\n\n    this.checkSensitiveInfoPermissions()\n    this.setTitleMessages()\n\n    this.mainForm = this.fb.group({\n      students: this.fb.array([]),\n      guardians: this.fb.array([])\n    });\n\n    this.sharedService.setFormCommonFields(this.mainForm)\n    if (this.changeModeId) {\n      this.populateFromDB()\n    }\n    else {\n      this.addStudent()\n      this.addGuardian()\n      this.addAddress()\n      this.setActiveStudentGuardianCount()\n    }\n  }\n\n  setTitleMessages() {\n    if (this.changeModeId) {\n      this.title = \"Update Children and their Guardian Details.\"\n      this.subTitle = \"Please update following details of student and his/her sibling and their guardians.\"\n\n      this.studentSubTitle = \"Please update following details of 'Children'.\"\n      this.guardianSubTitle = \"Please update following details of 'Guardian'.\"\n      this.addressSubTitle = \"Please update following details of 'Address'.\"\n\n      if (this.isViewMode) {\n        this.title = \"View Children and their Guardian Details.\"\n        this.subTitle = \"View following details of student and his/her sibling and their guardians.\"\n\n        this.studentSubTitle = \"View following details of 'Children'.\"\n        this.guardianSubTitle = \"View following details of 'Guardian'.\"\n        this.addressSubTitle = \"View following details of 'Address'.\"\n      }\n    }\n  }\n\n  populateFromDB() {\n    //--- Fill students and guardian information for View/Edit mode from Database\n\n    this.isLoading = true\n\n    this.studentGuardianService.getStudentGuardian(this.changeModeId)\n      .pipe(takeUntil(this.unsubscribe$))\n      .subscribe(\n        (result: any) => {\n\n          this.isLoading = false\n\n          result.forEach(element => {\n            this.initialFormValues = element\n            this.mainForm.get('_id').setValue(this.initialFormValues._id)\n            this.mainForm.get('status').setValue(this.initialFormValues.status)\n\n            //--- Fill students for View/Edit mode\n            for (let idx = 0; idx < (<Array<object>>element[\"students\"]).length; idx++) {\n              let id = ((<Array<object>>element[\"students\"])[idx])[\"_id\"]\n              let status = ((<Array<object>>element[\"students\"])[idx])[\"status\"]\n              this.addStudent(id, status)\n            }\n\n            //--- Fill guardians for View/Edit mode\n            for (let idx = 0; idx < (<Array<object>>element[\"guardians\"]).length; idx++) {\n              let id = ((<Array<object>>element[\"guardians\"])[idx])[\"_id\"]\n              let status = ((<Array<object>>element[\"guardians\"])[idx])[\"status\"]\n              this.addGuardian(id, status)\n            }\n          });\n\n          //--- Fill address for View/Edit mode\n          this.addAddress()\n\n          this.setActiveStudentGuardianCount()\n        },\n        (error) => {\n          this.isLoading = false\n          console.log(error)\n        }\n      );\n  }\n\n  addStudentClicked() {\n    this.addStudent()\n    this.sharedService.pageLevelSave(\"New children form\")\n    this.noOfActiveStudent++\n  }\n  addStudent(id = null, status = null) {\n\n    (<FormArray>this.mainForm.get('students'))\n      .push(\n        this.sharedService.setFormCommonFields(\n          this.fb.group({\n            basicInfo: this.fb.group({}),\n            credentialInfo: this.fb.group({}),\n            transportInfo: this.fb.group({}),\n            academicInfo: this.fb.group({}),\n            contactInfo: this.fb.group({}),\n            medicalInfo: this.fb.group({}),\n            governmentIds: this.fb.group({})\n          }),\n          id, status\n        )\n      )\n  }\n\n  addGuardianClicked() {\n    this.addGuardian()\n    this.sharedService.pageLevelSave(\"New guardian form\")\n    this.noOfActiveGuardian++\n  }\n  addGuardian(id = null, status = null) {\n    (<FormArray>this.mainForm.get('guardians'))\n      .push(\n        this.sharedService.setFormCommonFields(\n          this.fb.group({\n            basicInfo: this.fb.group({}),\n            contactInfo: this.fb.group({}),\n            credentialInfo: this.fb.group({}),\n            occupationInfo: this.fb.group({}),\n            governmentIds: this.fb.group({})\n          }),\n          id, status\n        )\n      )\n  }\n\n  addAddress() {\n    this.mainForm.addControl(\"address\", this.fb.group({}))\n  }\n\n  deleteStudentClicked(idx, control: AbstractControl) {\n    this.permanentDeleteStudent(idx)\n  }\n\n  permanentDeleteStudent(idx) {\n    let dialogRef = this.sharedService.openConfirmDialog();\n\n    dialogRef.afterClosed()\n      .pipe(takeUntil(this.unsubscribe$))\n      .subscribe((confirmed: boolean) => {\n        if (confirmed) {\n          (<FormArray>this.mainForm.get('students')).removeAt(idx);\n          this.noOfActiveStudent--;\n          this.sharedService.pageLevelDelete(\"Student/Children\")\n        }\n      });\n\n  }\n\n  deleteGuardianClicked(idx, control: AbstractControl) {\n    this.permanentDeleteGuardian(idx)\n  }\n  permanentDeleteGuardian(idx) {\n    let dialogRef = this.sharedService.openConfirmDialog();\n\n    dialogRef.afterClosed()\n      .pipe(takeUntil(this.unsubscribe$))\n      .subscribe((confirmed: boolean) => {\n        if (confirmed) {\n          (<FormArray>this.mainForm.get('guardians')).removeAt(idx);\n          this.noOfActiveGuardian--;\n          this.sharedService.pageLevelDelete(\"Guardian\");\n        }\n      });\n  }\n\n  setActiveStudentGuardianCount() {\n\n    this.noOfActiveGuardian = 0\n    this.noOfActiveStudent = 0\n\n    let guardiansArray = (<FormArray>this.mainForm.controls[\"guardians\"])\n    let studentsArray = (<FormArray>this.mainForm.controls[\"students\"])\n\n    for (let idx = 0; idx < guardiansArray.length; idx++) {\n      let gp = <FormGroup>guardiansArray.controls[idx]\n      if (gp.get('status').value === 1) {\n        this.noOfActiveGuardian++\n      }\n    }\n\n    for (let idx = 0; idx < studentsArray.length; idx++) {\n      let gp = <FormGroup>studentsArray.controls[idx]\n      if (gp.get('status').value === 1) {\n        this.noOfActiveStudent++\n      }\n    }\n  }\n\n  onSubmit(event: Event) {\n\n    this.mainForm.markAllAsTouched()\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.mainForm.valid) {\n      this.isLoading = true\n\n      this.studentGuardianService.studentGuardianRegistration(\n        this.mainForm.getRawValue(),\n        this.changeModeId\n      )\n        .pipe(takeUntil(this.unsubscribe$))\n        .subscribe(\n          (result: any) => {\n            this.isLoading = false\n\n            if (result.isSuccess) {\n              this.onSaveSuccess.emit(true)\n              this.sharedService.openSnackBar(result.message, \"x\", \"success\")\n\n              if (!this.isComingFromMyProfile) {\n                this.sharedService.resetFormControls(this.mainForm)\n              }\n\n            }\n            else {\n              this.sharedService.openSnackBar(result.message, \"x\", \"fail\")\n            }\n          },\n          (error) => {\n            this.isLoading = false\n            console.log(error)\n          }\n        );\n    } else {\n      this.sharedService.openSnackBar(\"Some fields are invalid. Please fill them properly.\", \"x\", \"fail\")\n    }\n  }\n\n  ngAfterViewChecked() {\n    this.changeDetector.detectChanges();\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next(true);\n    this.unsubscribe$.complete();\n  }\n\n}","<div class=\"gridview-label\">\n  {{title}}\n</div>\n<card [loading]=\"isLoading\" [header]=\"false\" [title]=\"title\" [subTitle]=\"subTitle\" [cardButtons]=\"false\">\n  <form [formGroup]=\"mainForm\" (ngSubmit)=\"onSubmit($event)\">\n    <mat-tab-group [backgroundColor]=\"'primary'\" [@.disabled]=\"true\" [(selectedIndex)]=\"tabSelectedIndex\">\n      <mat-tab *ngIf=\"this.mainForm['controls'].students\">\n        <ng-template mat-tab-label>\n          <smart-div highlighPass=\"true\" [form]=\"this.mainForm['controls'].students\">\n            <mat-icon class=\"example-tab-icon\" matBadgePosition=\"before\" matBadgeColor=\"default\" matBadgeOverlap=\"false\"\n              [matBadge]=\"noOfActiveStudent\">emoji_people</mat-icon>\n          </smart-div>\n          <large-screen>Children</large-screen>\n        </ng-template>\n        <br>\n        <div formArrayName=\"students\">\n          <div class=\"dynamicSection\"\n            *ngFor=\"let student of this.mainForm['controls'].students['controls']; let idxStudent = index\">\n            <div formGroupName=\"{{idxStudent}}\">\n              <student-info [isComingFromMyProfile]=\"isComingFromMyProfile\" [student]=\"student\" [idxStudent]=\"idxStudent\" [initialFormValues]=\"initialFormValues\"\n               [studentSubTitle]=\"studentSubTitle\" [focusId]=\"focusId\" [changeModeId]=\"changeModeId\" [isViewMode]=\"isViewMode\"\n               [canSeeSensitiveInfo]=\"canSeeSensitiveInfo\" [editPermissions]=\"editPermissions\">\n                  <div class=\"rt\" *ngIf=\"!isViewMode && noOfActiveStudent > 1\">\n                      <button type=\"button\" class=\"delete-button\" mat-raised-button\n                        (click)=\"deleteStudentClicked(idxStudent, student.controls['status'])\">\n                        <mat-icon matSuffix>delete_forever</mat-icon>\n                      </button>\n                    </div>\n              </student-info>\n            </div>\n          </div>\n        </div>\n        <p *ngIf=\"!isViewMode\">\n          <link-button title=\"Add more students\"  (click)=\"addStudentClicked()\"\n           *ngIf=\"this.mainForm['controls'].students['controls'].length < 5\"></link-button>\n        </p>\n      </mat-tab>\n      <mat-tab *ngIf=\"this.mainForm['controls'].guardians\">\n        <ng-template mat-tab-label>\n          <smart-div highlighPass=\"true\" [form]=\"this.mainForm['controls'].guardians\">\n            <mat-icon class=\"example-tab-icon\" matBadgePosition=\"before\" matBadgeColor=\"default\" matBadgeOverlap=\"false\"\n              [matBadge]=\"noOfActiveGuardian\">wc</mat-icon>\n          </smart-div>\n          <large-screen>Guardian</large-screen>\n        </ng-template>\n        <br>\n        <div formArrayName=\"guardians\">\n          <div class=\"dynamicSection\"\n            *ngFor=\"let guardian of this.mainForm['controls'].guardians['controls']; let idxGuardian = index;\">\n            <div formGroupName=\"{{idxGuardian}}\">\n              <guardian-info [isComingFromMyProfile]=\"isComingFromMyProfile\" [guardian]=\"guardian\" [idxGuardian]=\"idxGuardian\" [initialFormValues]=\"initialFormValues\"\n              [guardianSubTitle]=\"guardianSubTitle\" [focusId]=\"focusId\" [changeModeId]=\"changeModeId\" [isViewMode]=\"isViewMode\"\n              [canSeeSensitiveInfo]=\"canSeeSensitiveInfo\" [editPermissions]=\"editPermissions\">\n                  <div class=\"rt\" *ngIf=\"!isViewMode && noOfActiveGuardian > 1\">\n                      <button type=\"button\" class=\"delete-button\" mat-raised-button\n                        (click)=\"deleteGuardianClicked(idxGuardian, guardian.controls['status'])\">\n                        <mat-icon matSuffix>delete_forever</mat-icon>\n                      </button>\n                    </div>\n              </guardian-info>\n            </div>\n          </div>\n        </div>\n        <p *ngIf=\"!isViewMode\">\n          <link-button title=\"Add more guardians\" (click)=\"addGuardianClicked()\"\n          *ngIf=\"this.mainForm['controls'].guardians['controls'].length < 10\"></link-button>\n        </p>\n      </mat-tab>\n      <mat-tab *ngIf=\"this.mainForm['controls'].address\">\n        <ng-template mat-tab-label>\n          <smart-div highlighPass=\"true\" [form]=\"this.mainForm['controls'].address\">\n            <mat-icon>room</mat-icon>\n          </smart-div>\n          <large-screen>Permanent Address</large-screen>\n        </ng-template>\n        <div class=\"dynamicSection\">\n          <br><br>\n          <app-section [title]=\"'Permanent Address Details'\">\n            <br>\n            <form-address-info [form]=\"this.mainForm['controls'].address\"\n              [initialFormValues]=\"initialFormValues?.address\" [isViewMode]=\"isViewMode\">\n            </form-address-info>\n          </app-section>\n        </div>\n      </mat-tab>\n    </mat-tab-group>\n    <responsive [gap]=\"'5%'\" *ngIf=\"!isViewMode && false\" class=\"formStatus\">\n      <div>\n        <smart-div highlighPass=\"true\" [form]=\"this.mainForm['controls'].students\" [isFormStatus]=\"true\">\n          Children/student infromation\n        </smart-div>\n      </div>\n      <div>\n        <smart-div highlighPass=\"true\" [form]=\"this.mainForm['controls'].guardians\" [isFormStatus]=\"true\">\n          Guardian infromation\n        </smart-div>\n      </div>\n      <div>\n        <smart-div highlighPass=\"true\" [form]=\"this.mainForm['controls'].address\" [isFormStatus]=\"true\">\n          Permanent address infromation\n        </smart-div>\n      </div>\n      <div class=\"fill-space\"></div>\n    </responsive>\n    <form-buttons *ngIf=\"editPermissions && !isViewMode\" [form]=\"mainForm\" [isChangeMode]=\"changeModeId\"></form-buttons>\n  </form>\n  <br>\n</card>","import { Component, OnInit, Input } from '@angular/core';\nimport { MasterData } from '@env/environment';\n\n@Component({\n  selector: 'student-info',\n  templateUrl: './student-info.component.html',\n  styleUrls: ['./student-info.component.css']\n})\nexport class StudentInfoComponent implements OnInit {\n\n  @Input() student\n  @Input() idxStudent\n  @Input() initialFormValues\n  @Input() studentSubTitle\n  @Input() focusId\n  @Input() isViewMode\n  @Input() changeModeId\n  @Input() canSeeSensitiveInfo\n  @Input() editPermissions\n  @Input() isComingFromMyProfile\n  \n  public masterData = MasterData\n  public isViewRating\n  public selectedStudentId\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }  \n\n  viewStudentRatings(){    \n    this.selectedStudentId = this.student.get('_id').value\n    this.isViewRating = true\n  }\n\n}\n","<card [childCard]=\"true\" [refreshButton]=\"false\"\n    [title]=\"'Student- '+student.controls['basicInfo'].controls['firstName']?.value +' '+ student.controls['basicInfo'].controls['lastName']?.value\"\n    [subTitle]=\"studentSubTitle\" [open]=\"student.controls['_id'].value['$oid'] === focusId\">\n    <ng-content></ng-content>\n    <responsive>\n        <div fxFlex class=\"center\">\n            <form-profile-pic fxLayoutAlign=\"end\" [form]=\"student\" [isViewMode]=\"isViewMode\">\n            </form-profile-pic>\n            <ng-container *ngIf=\"changeModeId || isViewMode\">\n                <br>\n                <link-button icon=\"star\" title=\"View Ratings\" (click)=\"viewStudentRatings()\"></link-button>\n                <br>\n            </ng-container>\n        </div>\n        <div fxFlex=\"2 2 auto\">\n            <app-ddl-status [form]=\"student\" [isViewMode]=\"isViewMode\"\n                [value]=\"initialFormValues?.students.length > idxStudent && initialFormValues?.students[idxStudent].status\">\n            </app-ddl-status>\n            <mat-accordion hideToggle=\"true\" [multi]=\"masterData.expendMultiple\">\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"student.controls['basicInfo']\" [icon]=\"'face'\">\n                                {{student.controls['basicInfo'].controls['firstName']?.value }} Basic Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-user-basic-info [form]=\"student.controls['basicInfo']\" [isViewMode]=\"isViewMode\" minAge=\"2\"\n                        [initialFormValues]=\"initialFormValues?.students.length > idxStudent && initialFormValues?.students[idxStudent]. basicInfo\">\n                    </form-user-basic-info>\n                </mat-expansion-panel>\n                <mat-expansion-panel class=\"no-shadow\" *ngIf=\"canSeeSensitiveInfo\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"student.controls['credentialInfo']\" [icon]=\"'security'\">\n                                {{student.controls['basicInfo'].controls['firstName']?.value }} Credential Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-user-credentials [form]=\"student.controls['credentialInfo']\" [isViewMode]=\"isViewMode\"\n                        [initialFormValues]=\"initialFormValues?.students.length > idxStudent && initialFormValues?.students[idxStudent].credentialInfo\">\n                    </form-user-credentials>\n                </mat-expansion-panel>\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"student.controls['academicInfo']\" [icon]=\"'school'\">\n                                {{student.controls['basicInfo'].controls['firstName']?.value }} Academic Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <app-student-academic-info [form]=\"student.controls['academicInfo']\"\n                        [isViewMode]=\"isViewMode || isComingFromMyProfile\"\n                        [initialFormValues]=\"initialFormValues?.students.length > idxStudent && initialFormValues?.students[idxStudent].academicInfo\">\n                    </app-student-academic-info>\n\n                </mat-expansion-panel>\n\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"student.controls['transportInfo']\" [icon]=\"'directions_bus'\">\n                                {{student.controls['basicInfo'].controls['firstName']?.value }} Transport Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <app-route-ddl [form]=\"student.controls['transportInfo']\"\n                        [isViewMode]=\"isViewMode || isComingFromMyProfile\"\n                        [initialFormValues]=\"initialFormValues?.students.length > idxStudent && initialFormValues?.students[idxStudent].transportInfo\">\n                    </app-route-ddl>\n                </mat-expansion-panel>\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"student.controls['contactInfo']\" [icon]=\"'contact_phone'\">\n                                {{student.controls['basicInfo'].controls['firstName']?.value }} Contact Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-contact-info [form]=\"student.controls['contactInfo']\" [isViewMode]=\"isViewMode\"\n                        [initialFormValues]=\"initialFormValues?.students.length > idxStudent && initialFormValues?.students[idxStudent].contactInfo\">\n                    </form-contact-info>\n                </mat-expansion-panel>\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"student.controls['medicalInfo']\" [icon]=\"'local_hospital'\">\n                                {{student.controls['basicInfo'].controls['firstName']?.value }} Medical Details\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-user-medical-info [form]=\"student.controls['medicalInfo']\" [isViewMode]=\"isViewMode\"\n                        [initialFormValues]=\"initialFormValues?.students.length > idxStudent && initialFormValues?.students[idxStudent].medicalInfo\">\n                    </form-user-medical-info>\n                </mat-expansion-panel>\n                <mat-expansion-panel class=\"no-shadow\">\n                    <mat-expansion-panel-header>\n                        <mat-panel-title>\n                            <smart-div [form]=\"student.controls['governmentIds']\" [icon]=\"'local_activity'\">\n                                {{student.controls['basicInfo'].controls['firstName']?.value }} Government Ids\n                            </smart-div>\n                        </mat-panel-title>\n                    </mat-expansion-panel-header>\n                    <form-user-government-ids [form]=\"student.controls['governmentIds']\" [isViewMode]=\"isViewMode\"\n                        [initialFormValues]=\"initialFormValues?.students.length > idxStudent && initialFormValues?.students[idxStudent].governmentIds\">\n                    </form-user-government-ids>\n                </mat-expansion-panel>\n            </mat-accordion>\n        </div>\n    </responsive>\n</card>\n\n<card *ngIf=\"isViewRating\" title=\"Student Ratings\" [popUpMode]=\"true\" [refreshButton]=\"false\" (deleteCardEvent)=\"isViewRating = false\">\n    <user-small-pic cardHeader [userId]=\"selectedStudentId\"></user-small-pic>\n    <app-student-whole-rating [studentId]=\"selectedStudentId\">\n    </app-student-whole-rating>\n</card>","import { Injectable } from '@angular/core';\r\nimport { environment } from '@env/environment';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { StorageService } from '@app/shared/services/storage.service';\r\nimport { SharedService } from '@app/shared/services/shared.service';\r\n\r\n@Injectable()\r\nexport class GuardianService {\r\n\r\n  apiPrefix = \"api/guardian/\"\r\n\r\n  constructor(\r\n    private _http: HttpClient,\r\n    private _storage: StorageService,\r\n    private _sharedService: SharedService\r\n  ) {\r\n  }\r\n\r\n  getGuardianList(searchParams){\r\n    return this._http.post(environment.apiUrl+ this.apiPrefix + \"getlist\", searchParams)\r\n  }\r\n\r\n  deleteGuardian(id){\r\n    return this._http.get(environment.apiUrl+ this.apiPrefix + \"Deactivate?id=\"+ this._sharedService.serializeMongoObjectId(id))\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from '@env/environment';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { StorageService } from '@app/shared/services/storage.service';\r\nimport { SharedService } from '@app/shared/services/shared.service';\r\n\r\n@Injectable()\r\nexport class StudentGuardianService {\r\n  apiPrefix = \"api/StudentGuardian/\"\r\n\r\n  constructor(\r\n    private _http: HttpClient,\r\n    private _storage: StorageService,\r\n    private _sharedService: SharedService\r\n  ) {\r\n  }\r\n\r\n  studentGuardianRegistration(studentParentdata, id = null) {\r\n      return this._http.post(environment.apiUrl + this.apiPrefix + \"saveStudentGuardian\", studentParentdata)\r\n  }\r\n\r\n  getStudentGuardian(id){\r\n    return this._http.get(environment.apiUrl + this.apiPrefix + \"getStudentGuardian?id=\"+ this._sharedService.serializeMongoObjectId(id))\r\n  }\r\n\r\n  deleteStudentGuardian(id){\r\n    return this._http.get(environment.apiUrl + this.apiPrefix + \"DeleteStudentGuardian?id=\"+ this._sharedService.serializeMongoObjectId(id))\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { environment } from '@env/environment';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { StorageService } from '@app/shared/services/storage.service';\nimport { SharedService } from '@app/shared/services/shared.service';\n\n@Injectable()\nexport class StudentService {\n\n  apiPrefix = \"api/student/\"\n\n  constructor(\n    private _http: HttpClient,\n    private _storage: StorageService,\n    private _sharedService: SharedService\n  ) {\n  }\n\n  getStudentList(searchParams){\n    return this._http.post(environment.apiUrl+ this.apiPrefix + \"getlist\", searchParams)\n  }\n\n  deleteStudent(id){\n    return this._http.get(environment.apiUrl+ this.apiPrefix + \"Deactivate?id=\"+ this._sharedService.serializeMongoObjectId(id))\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { FieldConfig, validationType } from '@app/shared/component/dynamic-form/field.interface';\nimport { MasterData } from '@env/environment';\nimport { SharedService } from '@app/shared/services/shared.service';\n\n@Component({\n  selector: 'app-student-academic-info',\n  templateUrl: './student-academic-info.component.html',\n  styleUrls: ['./student-academic-info.component.css']\n})\nexport class StudentAcademicInfoComponent implements OnInit {\n  \n  @Input() form: FormGroup\n  @Input() initialFormValues = null\n  @Input() fieldsConfig: FieldConfig[]\n  @Input() isViewMode = false\n\n  masterData = MasterData\n\n  constructor(    \n    private sharedService: SharedService\n  ) {}\n\n  ngOnInit() {  \n\n    this.fieldsConfig = [\n      {\n        isViewMode: this.isViewMode,\n        type: \"input\",\n        label: \"Registration No\",\n        inputType: \"text\",\n        name: \"registrationNo\",\n        icon: \"receipt\",\n        validations: [validationType.required()]\n      },\n      {\n        isViewMode: this.isViewMode,\n        type: \"input\",\n        label: \"Roll No\",\n        inputType: \"text\",\n        name: \"rollNo\",\n        icon: \"emoji_people\",\n        validations: [validationType.required()]\n      }\n    ]\n    this.fieldsConfig = this.sharedService.setFormInitialValueForChangeMode(this.fieldsConfig, this.initialFormValues)\n  }\n\n  \n}","<dynamic-form [form]=\"form\" [fields]=\"fieldsConfig\" [addEmptyDiv]=\"false\"></dynamic-form>\n<app-class-section-ddl [isViewMode]=\"isViewMode\" [Required]=\"true\" [form]=\"form\" [initialFormValues]=\"initialFormValues\"></app-class-section-ddl>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { GuardianManagementComponent } from './guardian-management/guardian-management.component';\nimport { NewStudentguardianRegistrationComponent } from './new-student-guardian-registration/new-student-guardian-registration.component';\nimport { StudentManagementComponent } from './student-management/student-management.component';\nimport { MyProfileComponent } from './my-profile/my-profile.component';\n\nconst routes: Routes = [  \n  {\n    path: 'newStuGuardianReg',\n    component: NewStudentguardianRegistrationComponent,\n    outlet:'postLoginOutlet'\n  },\n  {\n    path: 'myProfile',\n    component: MyProfileComponent,\n    outlet:'postLoginOutlet'\n  },\n  {\n    path: 'guardianMgmt',\n    component: GuardianManagementComponent,\n    outlet:'postLoginOutlet'\n  },\n  {\n    path: 'studentMgmt',\n    component: StudentManagementComponent,\n    outlet:'postLoginOutlet'\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class StudentGuardianRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from '@app/shared/shared.module';\nimport { GuardianListComponent } from './guardian-list/guardian-list.component';\nimport { GuardianService } from './services/guardian.service';\nimport { GuardianManagementComponent } from './guardian-management/guardian-management.component';\nimport { NewStudentguardianRegistrationComponent } from './new-student-guardian-registration/new-student-guardian-registration.component';\nimport { StudentGuardianRoutingModule } from './student-guardian-routing.module';\nimport { StudentGuardianService } from './services/student-guardian.service';\nimport { StudentListComponent } from './student-list/student-list.component';\nimport { StudentManagementComponent } from './student-management/student-management.component';\nimport { StudentService } from './services/student.service';\nimport { StudentAcademicInfoComponent } from './student-academic-info/student-academic-info.component';\nimport { MyProfileComponent } from './my-profile/my-profile.component';\nimport { StudentInfoComponent } from './new-student-guardian-registration/student-info/student-info.component';\nimport { GuardianInfoComponent } from './new-student-guardian-registration/guardian-info/guardian-info.component';\n\n@NgModule({\n  declarations: [ NewStudentguardianRegistrationComponent, GuardianListComponent, GuardianManagementComponent, StudentListComponent, StudentManagementComponent, StudentAcademicInfoComponent, MyProfileComponent, StudentInfoComponent, GuardianInfoComponent],\n  imports: [\n    CommonModule,\n    StudentGuardianRoutingModule,\n    SharedModule   \n  ],\n  providers:[\n    StudentGuardianService,\n    GuardianService,\n    StudentService\n  ]\n})\nexport class StudentGuardianModule { }\n","import { Component, OnInit, Input, OnDestroy, Output, EventEmitter, ChangeDetectorRef } from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { MasterData, environment } from '@env/environment';\nimport { SharedService } from '@app/shared/services/shared.service';\nimport { StudentService } from '../services/student.service';\nimport { PostLoginService } from '@app/post-login/post-login.service';\nimport {Sort} from '@angular/material/sort';\nimport { PageEvent } from '@angular/material/paginator';\n\n@Component({\n  selector: 'app-student-list',\n  templateUrl: './student-list.component.html',\n  styleUrls: ['./student-list.component.css']\n})\nexport class StudentListComponent implements OnInit, OnDestroy {\n\n  private unsubscribe$ = new Subject();\n\n  @Output() viewButtonEvent = new EventEmitter()\n  @Output() editButtonEvent = new EventEmitter()\n\n  @Input() pageTitle: string = \"\"\n  @Input() roleId: number\n\n  currentTime = Date.now()\n\n  isLoading = false;\n\n  public editPermissions = false\n\n  environment = environment\n  masterData = MasterData;\n  students = [];\n\n  selectedStudentId\n  isViewRating = false\n\n  searchParams = null\n  paging = {\n    pageIndex: this.masterData.paging.pageIndex,\n    pageSize: this.masterData.paging.pageSize,\n    length: 1\n  }\n  sortParams = {\n    fieldName: \" basicInfo.firstName\",\n    isAsc: true\n  }\n\n  constructor(\n    private studentService: StudentService,\n    private changeDetector: ChangeDetectorRef,\n    public sharedService: SharedService,\n    private plService: PostLoginService\n  ) {\n    this.editPermissions = this.plService.getPageEntitlements(4,1) === 2  \n  }\n\n  ngOnInit() {\n    this.getList()\n  }\n\n  getList() {\n    this.isLoading = true;\n\n    let SearchObject = {\n      SearchParameters: this.searchParams,\n      paging: {\n        \"pageIndex\": this.paging.pageIndex,\n        \"pageSize\": this.paging.pageSize\n      },\n      sorting: {\n        \"fieldName\": this.sortParams.fieldName,\n        \"isAsc\": this.sortParams.isAsc\n      }\n    }\n\n    this.studentService\n      .getStudentList(SearchObject)\n      .pipe(takeUntil(this.unsubscribe$))\n      .subscribe(\n        (result: any) => {\n          this.isLoading = false\n          this.students = result.data\n          this.paging.length = result.count\n        },\n        (error) => {\n          this.isLoading = false\n          console.log(error)\n        }\n      );\n  }\n\n  ratingClicked(id) {\n    this.selectedStudentId = id\n    this.isViewRating = true\n  }\n\n  viewClicked(id, stuId) {\n    let idObj = {\n      id : id,\n      focusId : stuId\n    }\n    this.viewButtonEvent.emit(idObj)\n  }\n\n  editClicked(id, stuId) {\n    let idObj = {\n      id : id,\n      focusId : stuId\n    }\n    this.editButtonEvent.emit(idObj)\n  }\n\n  sortClicked(sort: Sort) {\n    this.paging.pageIndex = 0\n    this.sortParams.fieldName = sort.active\n    this.sortParams.isAsc = sort.direction === 'asc'\n    this.getList()\n    this.changeDetector.detectChanges();\n  }\n\n  pagingClicked(paginator: PageEvent) {\n    this.paging.pageIndex = paginator.pageIndex\n    this.paging.pageSize = paginator.pageSize\n    this.getList();\n    this.changeDetector.detectChanges();\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next(true);\n    this.unsubscribe$.complete();\n  }\n}\n","<card [loading]=\"isLoading\" [title]=\"'Student List'\" [subTitle]=\"'Manage your student for students'\"\n  (refresh)=\"getList()\">\n  <large-screen>\n    <responsive>\n      <table class=\"table\" matSort (matSortChange)=\"sortClicked($event)\">\n        <thead class=\"thead\">\n          <tr>\n            <th class=\"sr\" colspan=\"2\">#</th>\n            <th matRipple mat-sort-header=\"basicInfo.firstName\">\n              First Name\n              <mat-icon>face</mat-icon>\n            </th>\n            <th matRipple mat-sort-header=\"basicInfo.lastName\">\n              Last Name\n              <mat-icon>face</mat-icon>\n            </th>\n            <th matRipple mat-sort-header=\"academicInfo.registrationNo\">\n              Reg No<mat-icon>receipt</mat-icon>\n            </th>\n            <th matRipple mat-sort-header=\"academicInfo.classId\">\n              Class<mat-icon>ballot</mat-icon>\n            </th>\n            <th matRipple mat-sort-header=\"academicInfo.sectionId\">\n              Section<mat-icon>list_alt</mat-icon>\n            </th>\n            <th matRipple mat-sort-header=\"academicInfo.rollNo\">\n              Roll No<mat-icon>emoji_people</mat-icon>\n            </th>\n            <th matRipple mat-sort-header=\"basicInfo.dob\">\n              DOB<mat-icon>today</mat-icon>\n            </th>\n            <th matRipple mat-sort-header=\"basicInfo.genderId\">Gender</th>\n            <th class=\"action\">\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr class=\"tr\" *ngFor=\"let student of students; let idx = index\">\n            <td class=\"sr-col\">{{ (paging.pageIndex *  paging.pageSize) + idx+1}}</td>\n            <td>\n              <user-small-pic [userId]=\"student.studentId\"></user-small-pic>\n            </td>\n            <td>{{student.basicInfo.firstName}}</td>\n            <td>{{student.basicInfo.lastName}}</td>\n            <td>{{student.academicInfo.registrationNo}}</td>\n            <td>{{student.academicInfo.classId | class }}</td>\n            <td>{{student.academicInfo.sectionId | masterData : 'classSections'}}</td>\n            <td>{{student.academicInfo.rollNo | numberData}}</td>\n            <td>{{student.basicInfo.dob | date}}</td>\n            <td>{{student.basicInfo.genderId | masterData : 'gender'}}</td>\n            <td class=\"rt\">\n              <button mat-icon-button appToolTip=\"'View Student Rating'\" class=\"icon-view\"\n                (click)=\"ratingClicked(student.studentId)\">\n                <mat-icon mat-icon-button>star</mat-icon>\n              </button>\n              <button mat-icon-button appToolTip=\"'View Student'\" class=\"icon-view\"\n                (click)=\"viewClicked(student._id, student.studentId)\">\n                <mat-icon mat-icon-button>visibility</mat-icon>\n              </button>\n              <button *ngIf=\"editPermissions\" mat-icon-button appToolTip=\"'Edit Student'\" class=\"icon-edit\"\n                (click)=\"editClicked(student._id, student.studentId)\">\n                <mat-icon>edit</mat-icon>\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </responsive>\n  </large-screen>\n\n  <small-screen>\n    <ng-container *ngFor=\"let student of students; let idx = index; let odd = odd\">\n      <card [childCard]=\"true\" [header]=\"false\">\n        <row gap=\"2px\">\n          <div fxFlex=\"30%\">\n            <b># {{ (paging.pageIndex * paging.pageSize) + idx+1}}</b>\n          </div>\n          <div fxFlex class=\"rt\">\n            <button mat-icon-button appToolTip=\"'View Student rating'\" class=\"big-icon-view\"\n              (click)=\"ratingClicked(student.studentId)\">\n              <mat-icon mat-icon-button>star</mat-icon>\n            </button>\n            <button mat-icon-button appToolTip=\"'View Student'\" class=\"big-icon-view\"\n              (click)=\"viewClicked(student._id, student.studentId)\">\n              <mat-icon mat-icon-button>visibility</mat-icon>\n            </button>\n            <button *ngIf=\"editPermissions\" mat-icon-button appToolTip=\"'Edit Student'\" class=\"big-icon-edit\"\n              (click)=\"editClicked(student._id, student.studentId)\">\n              <mat-icon>edit</mat-icon>\n            </button>\n          </div>\n        </row>\n        <user-card [userId]=\"student.studentId\" [firstName]=\"student.basicInfo.firstName\"\n          [lastName]=\"student.basicInfo.lastName\" [registrationNo]=\"student.academicInfo.registrationNo\"\n          [rollNo]=\"student.academicInfo.rollNo\" [dob]=\"student.basicInfo.dob\" [genderId]=\"student.basicInfo.genderId\">\n        </user-card>\n        <div class=\"small-font\">\n          <b>Class: </b> {{student.academicInfo.classId | class}}\n        </div>\n        <div class=\"small-font\">\n          <b>Section: </b>{{student.academicInfo.sectionId | masterData : 'classSections'}}\n        </div>\n      </card>\n      <br>\n    </ng-container>\n  </small-screen>\n\n  <no-record-found *ngIf=\"students.length ==0\"></no-record-found>\n\n  <mat-paginator [length]=\"paging.length\" [showFirstLastButtons]=\"masterData.paging.showFirstLastButtons\"\n    [pageSize]=\"paging.pageSize\" [pageSizeOptions]=\"masterData.paging.pageSizeOptions\" (page)=\"pagingClicked($event)\">\n  </mat-paginator>\n</card>\n\n<card *ngIf=\"isViewRating\" [title]=\"'Student Ratings'\" [popUpMode]=\"true\" [refreshButton]=\"false\" (deleteCardEvent)=\"isViewRating = false\">  \n  <user-small-pic cardHeader [userId]=\"selectedStudentId\"></user-small-pic>\n  <app-student-whole-rating [studentId]=\"selectedStudentId\">\n  </app-student-whole-rating>\n</card>","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\nimport { StudentListComponent } from '../student-list/student-list.component';\nimport { FieldConfig } from '@app/shared/component/dynamic-form/field.interface';\nimport { MasterData } from '@env/environment';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { SharedService } from '@app/shared/services/shared.service';\nimport { StudentGuardianService } from '../services/student-guardian.service';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { PostLoginService } from '@app/post-login/post-login.service';\nimport { CardBottomComponent } from '@app/shared/component/boxes/card-bottom/card-bottom.component';\n\n@Component({\n  selector: 'app-student-management',\n  templateUrl: './student-management.component.html',\n  styleUrls: ['./student-management.component.css']\n})\nexport class StudentManagementComponent implements OnInit, OnDestroy {\n  \n  private unsubscribe$ = new Subject();\n\n  @ViewChild(StudentListComponent) private _ListPage : StudentListComponent\n  @ViewChild('searchCard') searchCard : CardBottomComponent\n  \n  showViewPage = false\n  showAddChangePage = false\n  showListPage = true\n\n  public editPermissions = false\n  isLoading = false\n  Id = null\n  focusId = null\n  masterData = MasterData\n\n  searchForm: FormGroup\n  searchConfig: FieldConfig[] = [\n    {\n      isViewMode: false,\n      type: \"input\",\n      label: \"First Name\",\n      inputType: \"text\",\n      name: \"firstName\",\n      icon: \"accessibility_new\"\n    },\n    {\n      isViewMode: false,\n      type: \"input\",\n      label: \"Last Name\",\n      inputType: \"text\",\n      name: \"lastName\",\n      icon: \"accessibility\"\n    },\n    {\n      isViewMode: false,\n      type: \"date\",\n      label: \"DOB\",\n      name: \"dob\"\n    },\n    {\n      isViewMode: false,\n      type: \"select\",\n      label: \"Gender\",\n      name: \"genderId\",      \n      options: this.masterData.genders\n    },\n    {\n      isViewMode: false,\n      type: \"select\",\n      label: \"Religion\",\n      name: \"religionId\",\n      options: this.masterData.religions\n    },\n    {\n      isViewMode: false,\n      type: \"select\",\n      label: \"Cast\",\n      name: \"castId\",\n      options: this.masterData.casts\n    }\n  ];\n\n\n  constructor(\n    private fb: FormBuilder,\n    private sharedService: SharedService,\n    private studentGuardianService: StudentGuardianService,\n    private plService: PostLoginService\n  ) {\n    this.searchForm = this.fb.group({})\n    this.editPermissions = this.plService.getPageEntitlements(4,1) == 2\n  }\n\n  ngOnInit() {\n  }\n\n  onSearchClick(){\n    this._ListPage.searchParams = this.searchForm.value\n    this._ListPage.paging.pageIndex=0\n    this._ListPage.getList()\n    this.searchCard.hide()\n  }\n\n  addNewClick(){\n    this.Id = null\n    this.showAddChangePage = true;\n    this.showViewPage = this.showListPage = false\n  }\n  backToListClick(){\n    this.showListPage = true;\n    this.showViewPage = this.showAddChangePage = false\n  }\n\n  onSaveSuccess(event) {\n    this.backToListClick()\n    if(this._ListPage){\n      this._ListPage.getList()\n    }\n  }\n\n  viewButtonEvent(event){  \n    this.Id = event.id;\n    this.focusId = event.focusId\n    this.showViewPage = true;\n    this.showListPage = this.showAddChangePage = false\n  }\n\n  editButtonEvent(event){\n    this.showAddChangePage = true;\n    this.Id = event.id;\n    this.focusId = event.focusId\n    this.showViewPage = this.showListPage = false\n  }\n\n  deleteClicked(id){\n    let dialogRef = this.sharedService.openConfirmDialog(\"You want to delete this 'Student Guardian hierarchy'?\")\n\n    dialogRef.afterClosed()\n    .pipe(takeUntil(this.unsubscribe$))\n    .subscribe(\n      (confirmed: boolean) => {\n      if (confirmed) {        \n        \n        this.isLoading = true\n\n        this.studentGuardianService.deleteStudentGuardian(id)\n        .pipe(takeUntil(this.unsubscribe$))\n        .subscribe(\n          (result) => {\n            this.backToListClick()\n            this._ListPage.getList()\n            this.isLoading = false\n          },\n          (error) => {\n            this.isLoading = false\n          }\n        )\n      }\n    },\n    (error) => {\n      this.isLoading = false\n    }\n    );\n  }\n   \n  ngOnDestroy() {\n    this.unsubscribe$.next(true);\n    this.unsubscribe$.complete();\n  }\n  \n}\n","<responsive colGap=\"50px\">\n    <div fxFlex=\"30\">\n        <button type=\"button\" *ngIf=\"showListPage && editPermissions\" (click)=\"addNewClick()\" class=\"btn\"\n            mat-raised-button appToolTip=\"'Add new Student and Guardian'\" matTooltipShowDelay=\"100\"\n            matTooltipHideDelay=\"100\">\n            <mat-icon>person_add</mat-icon> Add New Student and Guardian\n        </button>\n    </div>\n    <div fxFlex>\n        <card-bottom [form]=\"searchForm\" #searchCard [hidden]=\"!showListPage\" [title]=\"'Search Student'\">\n            <card [header]=\"false\">\n                <form [formGroup]=\"searchForm\" (ngSubmit)=\"onSearchClick()\">\n                    <app-class-section-ddl [form]=\"searchForm\" [NothingRequired]=\"true\"></app-class-section-ddl>\n                    <dynamic-form [form]=\"searchForm\" [fields]=\"searchConfig\"></dynamic-form>\n                    <form-buttons [form]=\"searchForm\" [isSearchForm]=\"true\" (onReset)=\"onSearchClick()\"></form-buttons>\n                </form>\n            </card>\n        </card-bottom>\n    </div>\n</responsive>\n\n<row>\n    <div>\n        <button type=\"button\" *ngIf=\"showAddChangePage || showViewPage\" (click)=\"backToListClick()\" mat-raised-button\n            class=\"btn\" matTooltipShowDelay=\"100\" matTooltipHideDelay=\"100\">\n            <mat-icon>keyboard_return</mat-icon> Back to Student List\n        </button>\n    </div>\n    <div class=\"fill-space\"></div>\n    <div>\n        <button type=\"button\" *ngIf=\"showAddChangePage && Id\" class=\"delete-button\" mat-raised-button\n            (click)=\"deleteClicked(Id)\">\n            <mat-icon>delete_forever</mat-icon> Delete this hierarchy\n        </button>\n    </div>\n</row>\n\n<br><br>\n\n<app-new-student-guardian-registration *ngIf=\"showAddChangePage || showViewPage\" [changeModeId]=\"Id\" [focusId]=\"focusId\"\n    [isViewMode]=\"showViewPage\" (onSaveSuccess)=\"onSaveSuccess($event)\"></app-new-student-guardian-registration>\n<app-student-list [hidden]=\"!showListPage\" (viewButtonEvent)=\"viewButtonEvent($event)\"\n    (editButtonEvent)=\"editButtonEvent($event)\"></app-student-list>"]}